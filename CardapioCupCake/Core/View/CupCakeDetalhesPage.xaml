<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="CardapioCupCake.Core.View.CupCakeDetalhesPage"
             BackgroundColor="WhiteSmoke">
    <Grid RowDefinitions="*, Auto">
        <ScrollView Grid.Row="0">
            <VerticalStackLayout Padding="20" Spacing="15">
                <Border Stroke="#FFC8DD"                           
                        StrokeThickness="2"                          
                        Padding="0" 
                        HeightRequest="220" 
                        WidthRequest="150"
                        HorizontalOptions="FillAndExpand">
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="10"/>
                    </Border.StrokeShape>
                    <Border.Shadow>
                        <Shadow Brush="Gray" 
                                 Offset="5,5" 
                                 Radius="10" 
                                 Opacity="0.3"/>
                    </Border.Shadow>

                    <Image x:Name="CupcakeImage" 
                           Source="{Binding Cupcake.Image}"                   
                           Aspect="Fill" />

                </Border>

                <HorizontalStackLayout Spacing="10" HorizontalOptions="FillAndExpand">
                    <Label x:Name="CupcakeNameLabel" 
                           Text="{Binding Cupcake.Name}" 
                           FontSize="20" 
                           FontAttributes="Bold" 
                           VerticalOptions="Center"
                           HorizontalOptions="StartAndExpand"
                           TextColor="#FF3F6F"  />

                    <Label x:Name="CupcakePriceLabel" 
                           Text="{Binding Cupcake.Price, StringFormat='R$ {0:F2}'}" 
                           FontSize="20" 
                           FontAttributes="Bold" 
                           TextColor="#FF3F6F" 
                           VerticalOptions="Center"
                           HorizontalOptions="End" />
                </HorizontalStackLayout>

                <BoxView HeightRequest="1" Color="#FFC8DD" />
                <Label Text="{Binding Cupcake.Descricao}" 
                       FontSize="Medium" 
                       TextColor="#333333" />

                <Label Text="Quantidade:" 
                       FontSize="Medium" 
                       FontAttributes="Bold" 
                       Margin="0, 10, 0, 0"
                       TextColor="#E91E63" />

                <HorizontalStackLayout Spacing="15" VerticalOptions="Center">

                    <Button ImageSource="menos.png"
                            HorizontalOptions="Center"
                            VerticalOptions="Center"
                            WidthRequest="40" 
                            HeightRequest="40" 
                            CornerRadius="20"
                            BackgroundColor="#FFC8DD"
                            TextColor="White"
                            Command="{Binding DecreaseQuantityCommand}" 
                            FontSize="Large"
                            FontAttributes="Bold" />

                    <Label x:Name="QuantityLabel" 
                           Text="{Binding Quantity}" 
                           FontSize="Medium" 
                           VerticalOptions="Center" 
                           WidthRequest="30"
                           HorizontalTextAlignment="Center"
                           TextColor="#333333" />

                    <Button ImageSource="mais.png"
                            WidthRequest="40" 
                            HeightRequest="40" 
                            CornerRadius="20"
                            Command="{Binding IncreaseQuantityCommand}" 
                            HorizontalOptions="Center"
                            VerticalOptions="Center"
                            BackgroundColor="#E91E63"
                            TextColor="White"
                            FontSize="Large"
                            FontAttributes="Bold" />
                </HorizontalStackLayout>

                <Label Text="Informações Nutricionais e Alergênicas disponíveis no carrinho." 
                       FontSize="Small" 
                       TextColor="Gray"
                       Margin="0, 20, 0, 0" />

            </VerticalStackLayout>
        </ScrollView>
        <VerticalStackLayout Grid.Row="1" Padding="20" BackgroundColor="White" Spacing="5">
            <Label x:Name="TotalValueLabel" 
                   Text="{Binding TotalValue, StringFormat='Total: {0:C2}'}" 
                   FontSize="Small" 
                   HorizontalOptions="End"
                   TextColor="#FF3F6F"  />
            <Button x:Name="AddToCartButton"
                    Text="ADICIONAR AO CARRINHO" 
                    BackgroundColor="#E91E63"
                    TextColor="White"
                    FontAttributes="Bold"
                    CornerRadius="8"
                    HeightRequest="50"/>
        </VerticalStackLayout>
    </Grid>
</ContentPage>